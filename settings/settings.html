<!DOCTYPE html>
<html lang="hu">

<head>
  <meta charset="UTF-8">
  <meta name="description"
    content="L√°ss t√∂bbet a Hub-r√≥l, kapcsold ki √©s be az √©rtes√≠t√©seket, kezeld a statisztik√°idat, l√°sd mely Kurzusok tagja vagy, √©s m√©g sok m√°st.">
  <title data-translate="pages.settings.title">Be√°ll√≠t√°sok</title>
  <script>
    (function(){
      if (!document.getElementById('eu2k-page-overlay')) {
        var o = document.createElement('div');
        o.id = 'eu2k-page-overlay';
        o.style.cssText = 'position:fixed;inset:0;z-index:9999;background:#0B0F0B;border-radius:32px;opacity:1;transition:opacity 300ms ease-in-out;';
        var inner = document.createElement('div');
        inner.style.cssText = 'position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#0B0F0B;border-radius:32px;';
        var m = document.createElement('div');
        m.id = 'eu2k-overlay-mount';
        m.style.cssText = 'position:relative;width:100%;height:100%';
        inner.appendChild(m);
        o.appendChild(inner);
        document.documentElement.appendChild(o);
      }
    })();
  </script>
  <script src="/EU2K-Hub/assets/js/page-overlay-loader.js"></script>
  <link rel="stylesheet" href="settings.css">
  <link rel="icon" href="/EU2K-Hub/favicon.ico">
  <script type="importmap">
    {
      "imports": {
        "@material/web/": "https://esm.run/@material/web/"
      }
    }
  </script>
  <script type="module">
    import '@material/web/all.js';
    import { styles as typescaleStyles } from '@material/web/typography/md-typescale-styles.js';

    document.adoptedStyleSheets.push(typescaleStyles.styleSheet);
  </script>
  <script type="module">
    import '@material/web/all.js';
    import { styles as typescaleStyles } from '@material/web/typography/md-typescale-styles.js';

    document.adoptedStyleSheets.push(typescaleStyles.styleSheet);
  </script>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyBRRVx6BtQtCDKjFYA8yh9qYrcUONmkkwI",
      authDomain: "eu2k-hub.firebaseapp.com",
      projectId: "eu2k-hub",
      storageBucket: "eu2k-hub.firebasestorage.app",
      messagingSenderId: "560244867055",
      appId: "1:560244867055:web:3cd51b85baead94989001a",
      measurementId: "G-2JDPR089WD"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    // Import Firestore debug module
    import('../assets/js/firestore-debug.js').catch(err => {
      console.warn('Firestore debug module not loaded:', err);
    });
  </script>

  <script>
    // SPA routing √©s tartalomv√°lt√°s - Hash alap√∫ navig√°ci√≥
    function initializeSettings() {
      const settingsCards = document.querySelectorAll('.settings-card');
      const settingsPages = document.querySelectorAll('.settings-page');

      function showPage(pageId) {
        console.log('Showing page:', pageId); // Debug

        // Minden oldal ER≈êS elrejt√©se
        settingsPages.forEach(page => {
          page.classList.remove('active');
          page.style.display = 'none';
          page.style.visibility = 'hidden';
          page.style.opacity = '0';
        });

        // Minden k√°rtya inakt√≠vv√° t√©tele
        settingsCards.forEach(card => {
          card.classList.remove('active');
        });

        // Megfelel≈ë oldal megjelen√≠t√©se
        const targetPage = document.getElementById(pageId + '-page');
        const targetCard = document.querySelector(`[data-page="${pageId}"]`);

        console.log('Target page:', targetPage); // Debug
        console.log('Target card:', targetCard); // Debug

        if (targetPage) {
          targetPage.classList.add('active');
          targetPage.style.display = 'block';
          targetPage.style.visibility = 'visible';
          targetPage.style.opacity = '1';
        }

        if (targetCard) {
          targetCard.classList.add('active');
        }
      }

      function navigate(event, pageId) {
        event.preventDefault();
        location.hash = pageId;
      }

      // K√°rty√°k esem√©nykezel≈ëi
      settingsCards.forEach(card => {
        card.addEventListener('click', e => {
          const pageId = card.getAttribute('data-page');
          navigate(e, pageId);
        });
      });

      // Switch esem√©nykezel≈ë - megakad√°lyozza a k√°rtya aktiv√°l√°s√°t
      const notificationSwitch = document.querySelector('.settings-card[data-page="notifications"] md-switch');
      if (notificationSwitch) {
        notificationSwitch.addEventListener('click', e => {
          e.stopPropagation(); // Megakad√°lyozza a k√°rtya kattint√°s esem√©ny√©t
        });
      }

      // Kateg√≥ria switch-ek esem√©nykezel≈ëi
      const categorySwitches = document.querySelectorAll('.category-item md-switch');
      categorySwitches.forEach(switchElement => {
        switchElement.addEventListener('click', e => {
          e.stopPropagation(); // Megakad√°lyozza a k√°rtya kattint√°s esem√©ny√©t
        });
      });

      // √údv√∂zl≈ë k√©perny≈ë switch kezel√©se
      const welcomeScreenSwitch = document.getElementById('welcome-screen-switch');
      if (welcomeScreenSwitch && window.welcomeScreenManager) {
        // Be√°ll√≠tjuk a switch √°llapot√°t a mentett be√°ll√≠t√°s alapj√°n
        welcomeScreenSwitch.selected = window.welcomeScreenManager.isWelcomeScreenEnabled();

        welcomeScreenSwitch.addEventListener('click', e => {
          e.stopPropagation(); // Megakad√°lyozza a k√°rtya kattint√°s esem√©ny√©t
        });

        welcomeScreenSwitch.addEventListener('change', e => {
          const isEnabled = e.target.selected;
          window.welcomeScreenManager.setWelcomeScreenEnabled(isEnabled);
          console.log('Welcome screen setting changed to:', isEnabled);
        });
      }

      // Els≈ë l√°togat√°s vissza√°ll√≠t√°sa gomb kezel√©se
      const resetFirstVisitBtn = document.getElementById('reset-first-visit-btn');
      if (resetFirstVisitBtn && window.welcomeScreenManager) {
        resetFirstVisitBtn.addEventListener('click', e => {
          e.stopPropagation();
          if (confirm('Biztosan vissza√°ll√≠tod az els≈ë l√°togat√°s √°llapot√°t? A k√∂vetkez≈ë oldal bet√∂lt√©sekor megjelenik az √ºdv√∂zl≈ë k√©perny≈ë.')) {
            window.welcomeScreenManager.resetFirstVisit();
            alert('Els≈ë l√°togat√°s √°llapota vissza√°ll√≠tva! A k√∂vetkez≈ë oldal bet√∂lt√©sekor megjelenik az √ºdv√∂zl≈ë k√©perny≈ë.');
          }
        });
      }

      // Nyelv radio button-ok kezel√©se
      const languageRadios = document.querySelectorAll('.general-language-card md-radio');
      languageRadios.forEach(radio => {
        radio.addEventListener('change', e => {
          // Ha ez a radio lett kiv√°lasztva, a m√°sikat kikapcsoljuk
          languageRadios.forEach(otherRadio => {
            if (otherRadio !== radio) {
              otherRadio.checked = false;
            }
          });

          // Ford√≠t√°si rendszer integr√°l√°sa
          if (window.translationManager && radio.checked) {
            const language = radio.value;
            console.log('Language radio changed to:', language);
            window.translationManager.switchLanguage(language);
          }
        });
      });

      // Nyelv k√°rty√°k kattinthat√≥s√°ga
      const languageCards = document.querySelectorAll('.general-language-card');
      languageCards.forEach(card => {
        card.addEventListener('click', e => {
          const radio = card.querySelector('md-radio');
          if (radio && !radio.checked) {
            radio.checked = true;
            // Trigger change event
            radio.dispatchEvent(new Event('change'));
          }
        });
      });

      // Hash v√°ltoz√°s figyel√©se
      window.addEventListener('hashchange', () => {
        const page = location.hash.substring(1) || 'general';
        console.log('Hash changed to:', page); // Debug
        showPage(page);
      });

      // Initial page load
      const initialPage = location.hash.substring(1) || 'general';
      console.log('Initial page:', initialPage); // Debug

      settingsPages.forEach(page => {
        page.style.display = 'none';
        page.style.visibility = 'hidden';
        page.style.opacity = '0';
        page.classList.remove('active');
      });

      // Minden k√°rtya inakt√≠vv√° t√©tele
      settingsCards.forEach(card => {
        card.classList.remove('active');
      });

      showPage(initialPage);

      // Vissza gomb funkcionalit√°s
      const backBtn = document.getElementById('backToHome');
      if (backBtn) {
        backBtn.addEventListener('click', () => {
          // Ellen≈ërizz√ºk, hogy van-e el≈ëz≈ë oldal a history-ban
          if (document.referrer && document.referrer !== window.location.href) {
            // Ha van referrer √©s nem ugyanaz az oldal, akkor visszamegy√ºnk
            window.history.back();
          } else {
            // Ha nincs referrer, akkor alap√©rtelmezett oldalra
            window.location.href = '/EU2K-Hub/index.html';
          }
        });
      }
    }

    // DOM bet√∂lt√©s ut√°n inicializ√°l√°s
    document.addEventListener('DOMContentLoaded', initializeSettings);
  </script>
  <script src="/EU2K-Hub/assets/js/permissions.js"></script>
  <script src="/EU2K-Hub/assets/js/translations.js"></script>
  <script src="/EU2K-Hub/assets/js/welcome-screen.js"></script>
  <script src="/EU2K-Hub/assets/js/auth-state.js"></script>
  <script src="/EU2K-Hub/assets/js/test_firebase.js" type="module"></script>
<script src="/EU2K-Hub/assets/js/firebase-performance.js" type="module"></script>
  <script src="/EU2K-Hub/assets/js/first-input-delay.js"></script>
</head>

<body>
  <div class="app-bg">
    <aside class="sidebar">
      <nav class="nav-menu">
        <button class="nav-item list-button nav-item-list" type="button" aria-label="Men√º">
          <div class="nav-icon-container">
            <img src="/EU2K-Hub/assets/navbar/menu.svg" class="nav-icon" alt="Men√º">
          </div>
          <span data-translate="navigation.menu">Men√º</span>
        </button>
        <a class="nav-item" href="/EU2K-Hub/index.html">
          <div class="nav-icon-container">
            <img src="/EU2K-Hub/assets/navbar/home.svg" class="nav-icon" alt="Otthon">
          </div>
          <span data-translate="navigation.home">Otthon</span>
        </a>
        <a class="nav-item" href="/EU2K-Hub/qr-code.html">
          <div class="nav-icon-container">
            <img src="/EU2K-Hub/assets/navbar/qr_code.svg" class="nav-icon" alt="QR-K√≥d">
          </div>
          <span data-translate="navigation.qr">QR-K√≥d</span>
        </a>
        <a class="nav-item" href="/EU2K-Hub/youhub.html">
          <div class="nav-icon-container">
            <img src="/EU2K-Hub/assets/navbar/youhub.svg" class="nav-icon" alt="YouHub">
          </div>
          <span data-translate="navigation.youhub">YouHub</span>
        </a>
        <a class="nav-item" href="/EU2K-Hub/event_hub.html">
          <div class="nav-icon-container">
            <img src="/EU2K-Hub/assets/navbar/event_hub.svg" class="nav-icon" alt="Event Hub">
          </div>
          <span data-translate="navigation.event_hub">Event Hub</span>
        </a>
      </nav>
    </aside>
    <script>
      (function() {
        const sidebar = document.querySelector('.sidebar');
        const toggleButton = document.querySelector('.list-button');
        if (sidebar && toggleButton) {
          toggleButton.addEventListener('click', () => {
            sidebar.classList.toggle('open');
            const icon = toggleButton.querySelector('.nav-icon');
            if (icon) {
              const isOpen = sidebar.classList.contains('open');
              icon.src = isOpen ? '/EU2K-Hub/assets/navbar/menu_open.svg' : '/EU2K-Hub/assets/navbar/menu.svg';
            }
          });
        }
        function markActiveNavItem() {
          const currentPath = window.location.pathname.replace(/\/$/, '');
          document.querySelectorAll('.nav-menu .nav-item[href]').forEach(link => {
            try {
              const linkPath = new URL(link.getAttribute('href'), window.location.origin).pathname.replace(/\/$/, '');
              const isHomeAlias = currentPath === '/EU2K-Hub/' && linkPath === '/EU2K-Hub/index.html';
              if (linkPath === currentPath || isHomeAlias) {
                link.classList.add('active');
              } else {
                link.classList.remove('active');
              }
            } catch (e) {}
          });
        }
        function updateNavIcons() {
          document.querySelectorAll('.nav-item:not(.list-button) .nav-icon').forEach(img => {
            const item = img.closest('.nav-item');
            if (!item) return;
            const isActive = item.classList.contains('active');
            const src = img.getAttribute('src') || '';
            if (src.includes('/assets/navbar/')) {
              if (isActive && !src.includes('/assets/navbar/filled/')) {
                img.setAttribute('src', src.replace('/assets/navbar/', '/assets/navbar/filled/'));
              } else if (!isActive && src.includes('/assets/navbar/filled/')) {
                img.setAttribute('src', src.replace('/assets/navbar/filled/', '/assets/navbar/'));
              }
            }
          });
        }
        document.addEventListener('DOMContentLoaded', () => {
          markActiveNavItem();
          updateNavIcons();
        });
      })();
    </script>
    <main class="main-area">
      <div class="main-content">
        <div class="publish-layout">
          <div class="back-arrow-column">
            <md-filled-button id="backToHome" class="back-arrow-btn">
              <img src="/EU2K-Hub/assets/arrowback.svg" alt="Vissza" class="arrow-img">
            </md-filled-button>
          </div>
          <div class="publish-content">
            <header class="header">
              <div class="welcome-container">
                <img src="/EU2K-Hub/assets/settings_icon.svg" class="welcome-icon" alt="Settings">
                <h1 class="welcome-text" data-translate="pages.settings.title">Be√°ll√≠t√°sok</h1>
              </div>
              <div class="header-icons">
                <a href="/EU2K-Hub/system/account.html" class="header-icon-link">
                  <img src="/EU2K-Hub/assets/account_icon.svg" class="header-icon" alt="Account">
                </a>
              </div>
            </header>

            <!-- Settings Content Layout -->
            <div class="settings-content-layout">
              <!-- Settings Navigation Cards -->
              <div class="settings-navigation" id="settings-navigation">
                <div class="settings-cards">
                  <!-- √Åltal√°nos -->
                  <div class="settings-card single-card active" data-page="general">
                    <img src="/EU2K-Hub/assets/settings_icons/general_icon.svg" class="settings-card-icon"
                      alt="√Åltal√°nos">
                    <div class="settings-card-content">
                      <div class="settings-card-title" data-translate="settings.general">√Åltal√°nos</div>
                      <div class="settings-card-desc" data-translate="settings.general_desc">B√©taverzi√≥ - Nyelv - Inf√≥
                      </div>
                    </div>
                  </div>

                  <!-- √ârtes√≠t√©sek -->
                  <div class="settings-card group-top" data-page="notifications">
                    <img src="/EU2K-Hub/assets/settings_icons/notifications_icon.svg" class="settings-card-icon"
                      alt="√ârtes√≠t√©sek">
                    <div class="settings-card-content">
                      <div class="settings-card-title" data-translate="settings.notifications">√ârtes√≠t√©sek</div>
                      <div class="settings-card-desc" data-translate="settings.notifications_desc">Kateg√≥ri√°k</div>
                    </div>
                    <div class="settings-card-divider"></div>
                    <md-switch icons selected></md-switch>
                  </div>

                  <!-- Statisztik√°k √©s Teljes√≠tm√©ny -->
                  <div class="settings-card group-bottom" data-page="stats">
                    <img src="/EU2K-Hub/assets/settings_icons/statistics_and_performance_icon.svg"
                      class="settings-card-icon" alt="Statisztik√°k">
                    <div class="settings-card-content">
                      <div class="settings-card-title" data-translate="settings.stats">Statisztik√°k √©s Teljes√≠tm√©ny
                      </div>
                      <div class="settings-card-desc" data-translate="settings.stats_desc">Teljes√≠tm√©nyek megjelen√≠t√©se
                      </div>
                    </div>
                  </div>

                  <!-- K√∂z√∂ss√©g -->
                  <div class="settings-card group-top" data-page="community">
                    <img src="/EU2K-Hub/assets/settings_icons/community_icon.svg" class="settings-card-icon"
                      alt="K√∂z√∂ss√©g">
                    <div class="settings-card-content">
                      <div class="settings-card-title" data-translate="settings.community">K√∂z√∂ss√©g</div>
                      <div class="settings-card-desc" data-translate="settings.community_desc">Kurzusok -
                        Csoporttags√°gok</div>
                    </div>
                  </div>

                  <!-- Esem√©nyek √©s Napt√°r -->
                  <div class="settings-card group-middle" data-page="events">
                    <img src="/EU2K-Hub/assets/settings_icons/events_and_calendar_icon.svg" class="settings-card-icon"
                      alt="Esem√©nyek">
                    <div class="settings-card-content">
                      <div class="settings-card-title" data-translate="settings.events_calendar">Esem√©nyek √©s Napt√°r
                      </div>
                      <div class="settings-card-desc" data-translate="settings.events_desc">Esem√©nyek</div>
                    </div>
                  </div>

                  <!-- K√≠s√©rletek -->
                  <div class="settings-card group-bottom" data-page="experiments">
                    <img src="/EU2K-Hub/assets/settings_icons/experiments_page/experiments.svg"
                      class="settings-card-icon" alt="K√≠s√©rletek">
                    <div class="settings-card-content">
                      <div class="settings-card-title" data-translate="settings.experiments_title">K√≠s√©rletek</div>
                      <div class="settings-card-desc" data-translate="settings.experiments_desc">√údv√∂zl≈ë k√©perny≈ë</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Vertical Divider -->
              <div class="settings-vertical-divider"></div>

              <!-- Settings Pages -->
              <div class="settings-pages">
                <div id="general-page" class="settings-page active general-page">
                  <!-- Weboldal b√©taverzi√≥j√°nak haszn√°lata -->
                  <div class="general-beta-card">
                    <span class="general-beta-text" data-translate="settings.beta_usage">Weboldal b√©taverzi√≥j√°nak
                      haszn√°lata</span>
                    <md-switch icons selected disabled></md-switch>
                  </div>

                  <!-- Nyelv k√°rtya -->
                  <div class="general-language-container">
                    <div class="general-language-title" data-translate="settings.language_title">Nyelv</div>
                    <div class="general-language-cards">
                      <!-- English k√°rtya -->
                      <div class="general-language-card">
                        <div class="general-language-content">
                          <img src="/EU2K-Hub/assets/settings_icons/general_page/english.png"
                            class="general-language-flag" alt="English">
                          <span class="general-language-text" data-translate="settings.language_english">English</span>
                        </div>
                        <md-radio name="language" value="en"></md-radio>
                      </div>

                      <!-- Magyar k√°rtya -->
                      <div class="general-language-card">
                        <div class="general-language-content">
                          <img src="/EU2K-Hub/assets/settings_icons/general_page/hungarian.png"
                            class="general-language-flag" alt="Magyar">
                          <span class="general-language-text" data-translate="settings.language_hungarian">Magyar</span>
                        </div>
                        <md-radio name="language" value="hu" checked></md-radio>
                      </div>
                    </div>
                  </div>

                  <!-- Inform√°ci√≥s k√°rtya -->
                  <div class="general-info-card">
                    <!-- Bal oszlop -->
                    <div class="general-info-column">
                      <div class="general-info-item">
                        <img src="/EU2K-Hub/assets/eu2khub_logo.png" class="general-info-logo" alt="EU2K Hub">
                      </div>
                      <div class="general-info-item">
                        <img src="/EU2K-Hub/assets/settings_icons/version.svg" class="general-info-icon" alt="Verzi√≥">
                        <span class="general-info-text" data-translate="settings.version">Verzi√≥: 1.0</span>
                      </div>
                      <div class="general-info-item">
                        <img src="/EU2K-Hub/assets/settings_icons/channel.svg" class="general-info-icon" alt="Csatorna">
                        <span class="general-info-text" data-translate="settings.channel">Csatorna: B√©ta</span>
                      </div>
                    </div>

                    <!-- Divider -->
                    <div class="general-info-divider"></div>

                    <!-- K√∂z√©ps≈ë oszlop -->
                    <div class="general-info-column">
                      <div class="general-info-item">
                        <img src="/EU2K-Hub/assets/settings_icons/ui_version.svg" class="general-info-icon"
                          alt="UI Verzi√≥">
                        <span class="general-info-text" data-translate="settings.ui_version">UI Verzi√≥: Material 3
                          Expressive</span>
                      </div>
                      <div class="general-info-item">
                        <img src="/EU2K-Hub/assets/settings_icons/stands_behind.svg" class="general-info-icon"
                          alt="M√∂g√∂tte √°ll">
                        <span class="general-info-text" data-translate="settings.stands_behind">M√∂g√∂tte √°ll m√©g: EU2K
                          D√ñK, EU2K Devs</span>
                      </div>
                      <div class="general-info-item">
                        <img src="/EU2K-Hub/assets/settings_icons/made_by.svg" class="general-info-icon"
                          alt="K√©sz√≠tette">
                        <span class="general-info-text" data-translate="settings.made_by">K√©sz√≠tette: Turoczi √Åd√°m
                          8.E</span>
                      </div>
                      <div class="general-info-item">
                        <img src="/EU2K-Hub/assets/settings_icons/organization.svg" class="general-info-icon"
                          alt="Szervezet">
                        <span class="general-info-text" data-translate="settings.organization">Eur√≥pa 2000 Gimn√°zium
                          Tulajdona</span>
                      </div>
                    </div>

                    <!-- Jobb oszlop -->
                    <div class="general-info-column">
                      <div class="general-info-item">
                        <img src="/EU2K-Hub/assets/eu2kdevs_logo.png" class="general-info-logo-devs" alt="EU2K Devs">
                      </div>
                    </div>
                  </div>
                </div>

                <div id="notifications-page" class="settings-page">
                  <!-- Notice k√°rtya -->
                  <div class="notifications-notice">
                    <img src="/EU2K-Hub/assets/settings_icons/notifications_page/info.svg" class="notice-icon"
                      alt="Info">
                    <span class="notice-text" data-translate="settings.notifications_notice">Am√≠g az iskol√°ban vagy,
                      csendes √©rtes√≠t√©seket fogsz kapni.</span>
                  </div>

                  <!-- Kateg√≥ri√°k k√°rtya -->
                  <div class="notifications-categories-card">
                    <div class="categories-title" data-translate="settings.categories">Kateg√≥ri√°k</div>

                    <div class="category-items">
                      <!-- H√≠rek -->
                      <div class="category-item first">
                        <img src="/EU2K-Hub/assets/settings_icons/notifications_page/news.svg" class="category-icon"
                          alt="H√≠rek">
                        <span class="category-text" data-translate="settings.news">H√≠rek</span>
                        <md-switch icons selected></md-switch>
                      </div>

                      <!-- Kurzusok -->
                      <div class="category-item middle">
                        <img src="/EU2K-Hub/assets/settings_icons/notifications_page/courses.svg" class="category-icon"
                          alt="Kurzusok">
                        <span class="category-text" data-translate="settings.courses">Kurzusok</span>
                        <md-switch icons selected></md-switch>
                      </div>

                      <!-- Esem√©nyek -->
                      <div class="category-item middle">
                        <img src="/EU2K-Hub/assets/settings_icons/notifications_page/events.svg" class="category-icon"
                          alt="Esem√©nyek">
                        <span class="category-text" data-translate="settings.events">Esem√©nyek</span>
                        <md-switch icons selected></md-switch>
                      </div>

                      <!-- √úzenetek -->
                      <div class="category-item middle">
                        <img src="/EU2K-Hub/assets/settings_icons/notifications_page/messages.svg" class="category-icon"
                          alt="√úzenetek">
                        <span class="category-text" data-translate="settings.messages">√úzenetek</span>
                        <md-switch icons disabled></md-switch>
                      </div>

                      <!-- Posztok -->
                      <div class="category-item middle">
                        <img src="/EU2K-Hub/assets/settings_icons/notifications_page/posts.svg" class="category-icon"
                          alt="Posztok">
                        <span class="category-text" data-translate="settings.posts">Posztok</span>
                        <md-switch icons disabled></md-switch>
                      </div>

                      <!-- Megh√≠v√≥k -->
                      <div class="category-item middle">
                        <img src="/EU2K-Hub/assets/settings_icons/notifications_page/invites.svg" class="category-icon"
                          alt="Megh√≠v√≥k">
                        <span class="category-text" data-translate="settings.invites">Megh√≠v√≥k</span>
                        <md-switch icons disabled></md-switch>
                      </div>

                      <!-- B√©taverzi√≥ -->
                      <div class="category-item middle">
                        <img src="/EU2K-Hub/assets/settings_icons/notifications_page/beta_version.svg"
                          class="category-icon" alt="B√©taverzi√≥">
                        <span class="category-text" data-translate="settings.beta_version">B√©taverzi√≥</span>
                        <md-switch icons selected></md-switch>
                      </div>

                      <!-- √öjdons√°gok -->
                      <div class="category-item middle">
                        <img src="/EU2K-Hub/assets/settings_icons/notifications_page/new_things.svg"
                          class="category-icon" alt="√öjdons√°gok">
                        <span class="category-text" data-translate="settings.new_things">√öjdons√°gok</span>
                        <md-switch icons selected></md-switch>
                      </div>

                      <!-- Cseng≈ë -->
                      <div class="category-item last">
                        <img src="/EU2K-Hub/assets/settings_icons/notifications_page/bell.svg" class="category-icon"
                          alt="Cseng≈ë">
                        <span class="category-text" data-translate="settings.bell">Cseng≈ë</span>
                        <md-switch icons disabled></md-switch>
                      </div>
                    </div>
                  </div>
                </div>

                <div id="stats-page" class="settings-page">
                  <h2 data-translate="settings.stats">Statisztik√°k √©s Teljes√≠tm√©ny</h2>
                  <p data-translate="settings.stats_not_available">Ez a r√©szleg b√©t√°ban nem el√©rhet≈ë, nagyon er≈ësen
                    dolgozunk rajta, hogy min√©l hamarabb el√©rhet≈ë
                    legyen.</p>
                </div>

                <div id="community-page" class="settings-page">
                  <!-- Kurzusaim k√°rtya -->
                  <div class="community-courses-card">
                    <div class="community-card-title" data-translate="settings.my_courses">Kurzusaim:</div>
                    <div class="community-no-courses">
                      <img src="/EU2K-Hub/assets/settings_icons/community_page/block.svg" class="community-block-icon"
                        alt="Block">
                      <div class="community-no-courses-text">
                        <div data-translate="settings.courses_unavailable_line1">A Kurzusok funkci√≥ ebben a verzi√≥ban
                        </div>
                        <div data-translate="settings.courses_unavailable_line2">nem √©rhet≈ë m√©g el.</div>
                      </div>
                    </div>
                  </div>

                  <!-- Javaslataim k√°rtya -->
                  <div class="community-suggestions-card">
                    <div class="community-card-title" data-translate="settings.my_suggestions">Javaslataim:</div>
                    <div class="community-suggestion-items">
                      <div class="community-suggestion-item first">
                        <span class="community-suggestion-text" data-translate="settings.suggestion1">Puffy, felf√∫jt
                          ikonok k√©sz√≠t√©se</span>
                        <div class="community-suggestion-arrow">
                          <img src="/EU2K-Hub/assets/settings_icons/community_page/arrow_right.svg"
                            class="community-arrow-icon" alt="Arrow">
                        </div>
                      </div>
                      <div class="community-suggestion-item middle">
                        <span class="community-suggestion-text" data-translate="settings.suggestion2">A t√∂k√©letes prompt
                          a tanul√°shoz</span>
                        <div class="community-suggestion-arrow">
                          <img src="/EU2K-Hub/assets/settings_icons/community_page/arrow_right.svg"
                            class="community-arrow-icon" alt="Arrow">
                        </div>
                      </div>
                      <div class="community-suggestion-item last">
                        <span class="community-suggestion-text" data-translate="settings.suggestion3">Hogyan k√©sz√≠ts
                          √©leth≈± k√©peket</span>
                        <div class="community-suggestion-arrow">
                          <img src="/EU2K-Hub/assets/settings_icons/community_page/arrow_right.svg"
                            class="community-arrow-icon" alt="Arrow">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div id="events-page" class="settings-page">
                  <div class="events-page-off">
                    <img src="/EU2K-Hub/assets/settings_icons/qm.svg" class="community-block-icon"
                        alt="Question Mark">
                    <div class="events-and-calendar-uc">
                      <div class="title-text" data-translate="settings.events_calendar">Esem√©nyek √©s Napt√°r
                      </div>
                      <div data-translate="settings.events_not_available">Ez a r√©szleg b√©t√°ban nem el√©rhet≈ë, de nagyon er≈ësen dolgozunk rajta, hogy min√©l hamarabb el√©rhet≈ë legyen.
                      </div>
                    </div>
                  </div>
                </div>

                <div id="experiments-page" class="settings-page">
                  <div class="general-beta-card-first">
                    <span class="general-beta-text" data-translate="settings.experiments-welcome-screen">√údv√∂zl≈ë
                      K√©perny≈ë</span>
                    <md-switch id="welcome-screen-switch" icons disabled selected></md-switch>
                  </div>

                  <!-- Tesztel√©si gomb az els≈ë l√°togat√°s vissza√°ll√≠t√°s√°hoz -->
                  <div class="general-beta-card-last" style="margin-top: 16px;">
                    <span class="general-beta-text" data-translate="settings.experiments-reset-onboarding">Bevezet≈ë helyre√°ll√≠t√°sa</span>
                    <md-filled-button disabled id="reset-first-visit-btn" data-translate="settings.experiments-reset" style="margin-left: auto;">
                      Helyre√°ll√≠t√°s
                    </md-filled-button>
                  </div>

                  <div class="general-beta-card">
                    <span class="general-beta-text" data-translate="settings.experiments-youhub">YouHub</span>
                    <md-switch id="welcome-screen-switch" icons disabled></md-switch>
                  </div>

                  <div class="general-beta-card">
                    <span class="general-beta-text" data-translate="settings.experiments-test-mode">Teszt M√≥d</span>
                    <md-filled-button id="enterTestMode" data-translate="settings.experiments-enter-test-mode" style="margin-left: auto;">
                      Bel√©p√©s
                    </md-filled-button>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="site-footer" class="footer" aria-label="Site footer">
        <div class="footer-container">
          <div class="footer-left">
            <img src="/EU2K-Hub/eu2k_hub_logo_hor_dark.png" class="footer-logo-wide" alt="EU2K Hub Log√≥">
          </div>
          <div class="footer-center">
            <a class="footer-privacy" data-translate="pages.index.privacy_policy" href="/EU2K-Hub/privacy_policy.html">Adatkezel√©si T√°j√©koztat√≥</a>
            <a class="footer-privacy" data-translate="pages.index.terms_of_service" href="/EU2K-Hub/terms_of_service.html">Haszn√°lati Felt√©telek</a>
          </div>
          <div class="footer-right">
            <img src="/EU2K-Hub/eu2k_devs_logo_hor_dark.png" class="footer-logo-wide" alt="EU2K Devs Log√≥">
            <img src="/EU2K-Hub/eu2k_dok_logo_hor_dark_smoller_by_width.png" class="footer-logo-wide" alt="EU2K D√ñK Log√≥">
          </div>
        </div>
    </main>
    </div>
  </div>
<script type="module" src="/EU2K-Hub/assets/js/new-things-popup.js"></script>
<script>
  function applySettingsSmall() {
    const nav = document.getElementById('settings-navigation');
    if (!nav) return;

    const cardsContainer = nav.querySelector('.settings-cards');
    const cards = nav.querySelectorAll('.settings-card');

    if (document.body.clientWidth <= 1100) {
      // Navigation √©s container
      nav.classList.add('settings-navigation-small');
      cardsContainer.classList.add('settings-cards-small');

      // Minden k√°rtya
      cards.forEach(card => {
        card.classList.add('settings-card-small');

        // Tartalom elemek
        card.querySelector('.settings-card-content')?.classList.add('settings-card-content-small');
        card.querySelector('.settings-card-title')?.classList.add('settings-card-title-small');
        card.querySelector('.settings-card-desc')?.classList.add('settings-card-desc-small');
        card.querySelector('.settings-card-divider')?.classList.add('settings-card-divider-small');

        // √öJ: ikonok
        card.querySelector('.settings-card-icon')?.classList.add('settings-card-icon-small');

        // md-switch
        const mdSwitch = card.querySelector('md-switch');
        if (mdSwitch) mdSwitch.classList.add('settings-card-small');
      });

    } else {
      // vissza√°ll√≠t√°s
      nav.classList.remove('settings-navigation-small');
      cardsContainer.classList.remove('settings-cards-small');

      cards.forEach(card => {
        card.classList.remove('settings-card-small');
        card.querySelector('.settings-card-content')?.classList.remove('settings-card-content-small');
        card.querySelector('.settings-card-title')?.classList.remove('settings-card-title-small');
        card.querySelector('.settings-card-desc')?.classList.remove('settings-card-desc-small');
        card.querySelector('.settings-card-divider')?.classList.remove('settings-card-divider-small');
        card.querySelector('.settings-card-icon')?.classList.remove('settings-card-icon-small');
        const mdSwitch = card.querySelector('md-switch');
        if (mdSwitch) mdSwitch.classList.remove('settings-card-small');
      });
    }
  }

  // Figyel√©s: resize + 1 m√°sodpercenk√©nt
  window.addEventListener('resize', applySettingsSmall);
  setInterval(applySettingsSmall, 1000);
  applySettingsSmall(); // els≈ë alkalmaz√°s bet√∂lt√©skor
</script>
<script>
  function styleAllSettingsPages() {
    // Kiv√°laszt minden settings-page elemet
    const pages = document.querySelectorAll('.settings-pages .settings-page');

    pages.forEach(page => {
      page.style.borderRadius = '32px';
      page.style.overflowY = 'auto';
      page.style.scrollBehavior = 'smooth';

      // üíö Hover/scroll esem√©ny figyel√©s
      let scrollTimeout;
      page.addEventListener('mouseenter', () => {
        page.classList.add('show-scrollbar');
      });
      page.addEventListener('mouseleave', () => {
        page.classList.remove('show-scrollbar');
      });
      page.addEventListener('scroll', () => {
        page.classList.add('show-scrollbar');
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
          page.classList.remove('show-scrollbar');
        }, 1000);
      });
    });

    // Scrollbar st√≠lus
    const styleEl = document.createElement('style');
    styleEl.innerHTML = `
      .settings-pages .settings-page::-webkit-scrollbar {
        width: 8px;
        background: transparent;
      }

      .settings-pages .settings-page::-webkit-scrollbar-thumb {
        background-color: transparent;
        border-radius: 8px;
        transition: background-color 0.3s ease;
      }

      /* amikor hoverel vagy scrolloL */
      .settings-pages .settings-page.show-scrollbar::-webkit-scrollbar-thumb {
        background-color: #1E2A1E;
      }

      .settings-pages .settings-page.show-scrollbar::-webkit-scrollbar-thumb:hover {
        background-color: #243424;
      }
    `;
    document.head.appendChild(styleEl);
  }

  // Lefut oldalbet√∂lt√©s ut√°n
  document.addEventListener('DOMContentLoaded', styleAllSettingsPages);
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('enterTestMode');
    if (btn) {
      btn.addEventListener('click', () => {
        // √öj lapon nyitja meg
        window.open('/EU2K-Hub/test-channel/', '_blank');
      });
    }
  });
</script>
</body>
</html>